<h1>Flights</h1>

<div class="search-tools">
  <%= search_form_for @q do |f| %>
    <div class="filter name">
      <%= f.text_field :formatted_address_cont, placeholder: "Search by location" %>
    </div>
    <% end %>

<table>
  <thead>
    <tr>
      <th>Location</th>      
      <th>Drone</th>
      <th>Camera</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @flights.each do |flight| %>
      <tr>
        <td><%= flight.formatted_address %></td> 
        <td><%= flight.drone.model_make %></td>       
        <td><%= flight.camera.model_make %></td>
        <td><%= link_to 'Show', flight %></td>
        <% if can? :update, flight %>
          <td><%= link_to 'Edit', edit_flight_path(flight) %></td>
        <% end %>
        <% if can? :destroy, flight %>
        <td><%= link_to 'Delete', flight, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>

      </tr>
    <% end %>


  </tbody>
</table>

<br>

<%= link_to 'New Flight', new_flight_path %>
